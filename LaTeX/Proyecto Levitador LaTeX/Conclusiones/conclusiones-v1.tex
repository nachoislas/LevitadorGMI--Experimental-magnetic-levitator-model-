\chapter{Conclusiones y trabajos futuros} \chapterlabel{Conclusiones} \label{cap:Conclusiones}

\section{Conclusiones}

A lo largo de este documento se ha explicado la investigación, desarrollo e implementación del sistema SAE para automatizar playas de estacionamiento. Se decidió trabajar de manera incremental. Por lo tanto, se desarrolló un prototipo inicial, el cual fue progresando a medida que se avanzaba en el proyecto, debido al agregado de nuevas funcionalidades y la mejora de las ya existentes, hasta obtener un prototipo final. Mientras en el inicial se hizo hincapié en el funcionamiento de algunas etapas de gran importancia y complejidad, como es el caso de la detección de patentes, el final se enfocó en la parte de hardware. 

En el primer capítulo, se desarrolló el sistema como un producto comercial, tal como fue pensado en conjunto con la empresa que apoya este proyecto. Luego, se explicó su funcionamiento, tanto para el caso del ingreso como para el del egreso. Además, junto con los directores del trabajo final, con el objetivo de limitar el tiempo de desarrollo del proyecto y su nivel de complejidad, se estableció el alcance del mismo. De esta manera, se dejaron fuera del mismo la entrega de los tickets al ingreso y la implementación de una pantalla para  la asignación de lote, entre otras. Esto se trata con más detalle en la sección siguiente.

Por otra parte, para determinar la ubicación más adecuada de los periféricos dentro de un posible estacionamiento, se llevó a cabo un relevamiento. El mismo se abocó a las características de los establecimientos que se encuentran en la zona céntrica de la ciudad de Mar del Plata. Una posible distribución de los mismos se observa en el esquema de la figura \ref{fig:img_croquis-est}.

Debido a que el reconocimiento de las patentes es un punto crítico de este proyecto, se ha llevado a cabo una investigación exhaustiva en torno al mismo. Mediante esta, se pudieron observar los diferentes tipos de sistemas ALPR existentes, su funcionamiento general y las ventajas y desventajas que presentan. Al tratarse de una etapa crucial, se tomó la decisión de analizar dos alternativas diferentes (OpenALPR y OpenCV 3 license plate recognition), para luego optar por una de ellas. Para ambos sistemas, se llevó a cabo un análisis en detalle de su funcionamiento, se experimentó con ellos y se realizó su ajuste en base a dicha experimentación. Para ello, fue necesaria la construcción de diversos conjuntos de imágenes. A partir de los resultados obtenidos, que fueron presentados en el Capítulo \ref{cap:alpr}, se decidió continuar trabajando con el software OpenALPR. Esto se debe, principalmente, a que con esta herramienta, al reconocer la matrícula, se obtiene un porcentaje de éxito mucho mayor y en menor tiempo que con la otra alternativa.  Además, en este capítulo se muestra el relevamiento hecho sobre las características de las matrículas argentinas, considerando el modelo antiguo y el del MERCOSUR.

El otro punto crucial del sistema es el desarrollo del hardware necesario. En el Capítulo \ref{cap:2do-nucleo} se presentó el diseño y construcción de la placa encargada de controlar los equipos que se ubicarían en las zonas de ingreso y egreso. Se realizó la muestra de los esquemas circuitales correspondientes a la fuente de alimentación del sistema y la parte lógica de la placa, junto con la justificación de las diversas decisiones que se tomaron durante el diseño. Además, se realizó una breve descripción de los elementos principales del PCB, que son el microcontrolador ATmega328P y el módulo de comunicación WiFi ESP-01, y de los periféricos que integran el sistema, que son el detector vehicular magnético y las barreras infrarrojas. Finalmente, se presentó el desarrollo e implementación del circuito impreso. Para la realización del mismo, fue necesario instruirse en el uso de Altium Designer y en el método de insolado para la fabricación de placas.

El funcionamiento del sistema se basa en tres códigos diferentes, que fueron desarrollados completamente, y se encuentran distribuidos en la UCC, la Placa I/O y el Módulo WiFi. Estos fueron diseñados con el objetivo de implementar la multiprogramación. Mediante esta técnica, la ejecución de tareas por parte del procesador se da a una velocidad que causa la impresión de que ocurren en paralelo. De esta manera, se le permitió al sistema SAE poder diferenciar entre las vías de ingreso y egreso, es decir, que puede realizar el proceso de entrada y de salida en "simultáneo". Por otra parte, se añadieron al sistema funcionalidades para responder ante algunos casos particulares, como por ejemplo, un vehículo que pretende retirarse sin efectuar el pago, uno que se retire de la vía de egreso hacia el interior del establecimiento, la obtención de la matrícula de un vehículo que desea egresar y que no se encuentra en la base de datos, entre otros.

Por último, deben destacarse las características distintivas que posee el prototipo obtenido. Las mismas se enumeran a continuación:

\begin{itemize}
	\item Los sistemas de automatización investigados, tanto los implementados en los establecimientos de nuestra ciudad como los ofrecidos por empresas radicadas en la ciudad de Buenos Aires, no poseen un sistema de reconocimiento de patentes ni un sistema de detección de tamaño estandarizado.
	\item No se encontraron fabricantes de este tipo de sistemas en Mar del Plata. El desarrollo de un sistema en la ciudad permite abastecer a los establecimientos locales y proporcionarles un servicio de mantenimiento (actualmente dependen de empresas radicadas en Bs.As.).
	\item El prototipo se encuentra desarrollado completamente mediante software libre. Esto evita el pago de licencias y, en el caso del software de reconocimiento de patentes, el pago de un servicio mensual.
\end{itemize}


\section{Trabajos futuros}

El objetivo de esta sección es dejar establecidas aquellas ideas o mejoras que pueden ser implementadas en un futuro en el sistema desarrollado. Esto se debe a que, al tratarse de un proyecto de finalización de una carrera universitaria, el mismo tiene un período acotado de duración, el cual hace que muchas de estas ideas deban mantenerse fuera del mismo.

\subsection{Mejoras}
\begin{itemize}
	\item Realizar el entrenamiento del motor de OCR específico para las matrículas argentinas
	\item Desarrollo de una base de datos más compleja, que ofrezca más opciones al operador del sistema
	\item Diseño de un sistema de reseteo remoto en caso de falla en el sistema
	\item Implementación de un sistema de respaldo en caso de corte de luz
	\item Diseño y construcción de una terminal que integre la UCC, en formato All in One, junto con el lector de código de barra y la impresora de tickets fiscales
\end{itemize}

\subsection{Nuevas funcionalidades}
\begin{itemize}
	\item Agregado de impresora de tickets internos al estacionamiento, con información de hora de ingreso, número de patente y tarifa, entre otras, con su correspondiente lector de código de barra
	\item Agregado de impresora de tickets fiscales
	\item Desarrollo de una interfaz de usuario que permita el ingreso de información por parte del operario en caso de que ocurra algún inconveniente
	\item Desarrollo de un algoritmo de asignación de ubicación dentro del establecimiento y verificación del correcto estacionamiento
	\item Agregado de pantalla para mostrar el resultado de la asignación de ubicación al cliente
	\item Automatización del cobro de la tarifa a los clientes
	\item Adaptación del sistema para su aplicación en cocheras de edificios comerciales y privados, control de ingreso y egreso a barrios cerrados, etc
	\item Detección de rostros al ingreso y egreso del establecimiento, de manera de incrementar la seguridad en cuanto al retiro de los vehículos
\end{itemize}


